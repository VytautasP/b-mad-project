<div class="task-detail-dialog">
  <div mat-dialog-title class="dialog-header">
    <div class="header-left">
      <mat-icon class="header-icon">assignment</mat-icon>
      <h2>{{ task.name }}</h2>
    </div>
    <button mat-icon-button (click)="onClose()" class="close-button" aria-label="Close quick inspect">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-dialog-content class="dialog-content">
    <section class="task-properties">
      <div class="property-grid">
        <div class="property-item">
          <span class="property-label">Status</span>
          <mat-chip class="status-chip" [ngClass]="getStatusClass(task.status)">
            <mat-icon>{{ getStatusIcon(task.status) }}</mat-icon>
            <span>{{ getStatusLabel(task.status) }}</span>
          </mat-chip>
        </div>
        <div class="property-item">
          <span class="property-label">Priority</span>
          <mat-chip class="priority-chip">{{ getPriorityLabel(task.priority) }}</mat-chip>
        </div>
        <div class="property-item">
          <span class="property-label">Due Date</span>
          <span class="property-value">
            <mat-icon class="inline-icon">event</mat-icon>
            {{ formatDate(task.dueDate) }}
          </span>
        </div>
        <div class="property-item">
          <span class="property-label">Assignees</span>
          <app-assignee-list
            [assignees]="task.assignees || []"
            [maxVisible]="4"
            [showActions]="false">
          </app-assignee-list>
        </div>
      </div>

      @if (task.description) {
        <div class="description-block">
          <span class="property-label">Description</span>
          <p class="description-text">{{ getShortDescription() }}</p>
        </div>
      }
    </section>
  </mat-dialog-content>

  <mat-dialog-actions class="dialog-actions">
    <button mat-raised-button color="primary" (click)="onOpenFullDetails()">
      Open full details
    </button>
  </mat-dialog-actions>
</div>
